.hs-feature__search--poppy-seeds
{    
    // Default
    .masthead_sidebar
    {
        .widget_search
        {
            display: none;
        }
    }
    
    &.js
    {        
        .masthead_cr
        {
            position: relative;
        }
        
        .masthead_sidebar
        {
            .search_comp
            {
                position: absolute;
                top: 0;
                right: 0;
                width: 100%;
            }
            
            .search-form-submit_axn
            {
                @extend %hs-nature--inline-icon-cr !optional;
                
                &:not( :focus )
                {
                    @extend %hs-patch--visually-hidden !optional;

                    // Reset
                    @include dimensions( 0 );
                    min-width: 0;
                    min-height: 0;
                }
            }

            .search-form-submit_axn .verb_label,
            .search-form-reset_axn .verb_label
            {
                @extend %hs-patch--visually-hidden !optional;
            }
            
            .search-form-submit_axn,
            .search-form-reset_axn
            {
                @extend %hs-reset--deflate !optional;
            }

            // Make container for the inline icon
            .search-form_label,
            .search-form-reset_axn
            {    
                @extend %hs-nature--inline-icon-cr !optional;
            }

            .search_icon
            {
                @extend %hs-nature--inline-icon !optional;
            }
            
            .widget_search
            {
                .widget_cr
                {
                    // Counter-Effect
                    padding: 0;
                }
            }
            
            .dismiss_icon
            {
                @include dimensions( 1.25rem );
            }
            
            .search-form-input_field
            {
                // Reset
                margin-top: 0;
            }
        }
        
        // Narrow Viewport
        &.hs-viewport--narrow
        {   
            // Web Product Header            
            .web-product-header_cr
            {
                @include padding-x( $utility-block );
            }
        }

        // Wide Viewport
        &.hs-viewport--wide
        {
            .masthead_sidebar
            {
                .search_comp
                {
                    width: 20rem;
                }
            }
        }
        
        // Inactive
        .hs-state__search_poppy-seeds--inactive
        {
            .masthead_sidebar
            {
                .widget_search
                {
                    display: block;
                }

                .search-form_label .subj_label,
                .search-form_input
                {
                    @extend %hs-patch--visually-hidden !optional;
                }

                .search-form-input_field {
                    position: absolute;
                    top: 0;
                    right: 0;
                }

                .search-form-reset_axn
                {                
                    @extend %hs-patch--visually-hidden !optional;
                }
            }
        }
        
        // Active
        .hs-state__search_poppy-seeds--active
        {
            .masthead_sidebar
            {
                .widget_search
                {
                    display: block;
                }

                .search-form_label
                {
                    @extend %hs-patch--visually-hidden !optional;
                }

                .search-form-input-field_cr 
                {
                    padding-right: $utility-block;
                }

                // Position the button icon
                .search-form-axn_field
                {
                    position: absolute;
                    top: 0;
                    right: 0;
                }

                .search-form_input
                {
                    // Reset
                    border: 0;

                    // Counter-effect
                    padding-right: 0;
                    height: $utility-block;
                }

                .search-form-reset_axn
                {                
                    @extend %hs-patch--visually-hidden-reverse !optional;

                    position: absolute;
                    top: 0;
                    right: 100%;
                }
            }
        }

        // If Hamburger Template and Narrow Viewport
        &.hs-feature__primary-nav-masthead-sidebar--hamburger
        {
            &.hs-viewport--narrow
            {
                .masthead_sidebar
                {
                    .search-form_input
                    {
                        padding-left: 0;
                    }
                    
                    .search-form-input-field_cr
                    {
                        padding-left: $utility-block;
                    }
                    
                    .search_comp
                    {
                        z-index: $layer2;
                    }

                    .primary-nav-masthead-sidebar-toggle_axn
                    {
                        z-index: $layer1;
                    }
                }
            }
        }
    }
    
    &.no-js
    {
        // Default
        .masthead_sidebar
        {
            .widget_search
            {
                display: block;
            }
        }
    }
}