// Component: Primary Sub-Navigation Toggle Action
// - Object that appears as a button if a navigation item has sub-navigation items under it
// - <button> is used for accessibility

// Default
.primary-sub-nav-toggle_axn {
    
    @extend %hs-reset--deflate !optional;
    
    // Enables the use of pseudo-element with position: absolute
    position: relative;
    
    // Counter-effect
    padding-left: .5rem;
    padding-right: .5rem;
    width: auto;
    
    .toggle_label
    {
        @extend %hs-patch--visually-hidden !optional;
    }
    
    // Icon
    &:after
    {
        // Creates the pseudo-element
        content: '';

        // Absolutely-positions the element
        position: absolute;

        // Sets the element to be centered vertically; partered with an offset using margin-top
        top: 50%;

        // Position to the right
        right: 50%;

        // Offset top: 50% by dividing the height by 2 (1.5 / 2 = .75)
        margin-top: -.75rem;

        // Sets a space to the right
        margin-right: -.75rem;

        // Sets the visual size of the actual icon
        width: 1.5rem; height: 1.5rem;

        // Uses SVG to have hi-res icon
        background-image: url( ../img/icon-arrow-down.svg );

        // Prevents the tiling of the background-image
        background-repeat: no-repeat;

        // Occupies the space of the width and height
        background-size: cover;

        // For animation
        transition: transform .2s;
    }
}

// Reverses the icon's direction if the Tree nav is active
.hs-state__primary-nav-item_tree--active > .primary-sub-nav-toggle_axn:after {
    transform: rotate( -180deg );
}